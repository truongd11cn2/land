function Tooltip(b){this.setValues(b);this.map_=b.map;var a=this.div_=document.createElement("div");a.className="tooltip";this.markerDragging=false}Tooltip.prototype={draw:function(){},padding:20,visible_changed:function(){var a=this.get("visible");this.div_.style.visibility=a?"visible":"hidden"},getPos:function(c){var j=this.getProjection();var g=j.fromLatLngToDivPixel(c.latLng);var b=this.div_;var h=g.x;var i=g.y;var f=b.offsetWidth;var d=b.offsetHeight;var a=this.map_.getBounds().getNorthEast();a.pixel=j.fromLatLngToDivPixel(a);if(f+h>a.pixel.x){h-=f}h=h-(f/2);if(i-d>0){i=i-this.padding-d}b.style.left=h+"px";b.style.top=i+"px";if(!this.markerDragging){this.set("visible",true)}},getPos2:function(d){var j=this.getProjection();var g=j.fromLatLngToDivPixel(d);var c=this.div_;var h=g.x;var i=g.y;var f=c.offsetWidth;var e=c.offsetHeight;var a=this.map_.getBounds().getNorthEast();a.pixel=j.fromLatLngToDivPixel(a);var b=this.map_.getBounds().getSouthWest();b.pixel=j.fromLatLngToDivPixel(b);h=h-(f/2);if(h<b.pixel.x){h=b.pixel.x}else{if(f+h>a.pixel.x){h=h-(f+h-a.pixel.x)}}if(i-e>0){i=i-this.padding-e}c.style.left=h+"px";c.style.top=i+"px";if(!this.markerDragging){this.set("visible",true)}},addTip:function(c){var d=this;d.marker_=c;this.padding=c.getIcon().size.height;d.bindTo("text",d.marker_,"tooltip");var b=google.maps.event;var a=d.div_;a.innerHTML=d.get("text").toString();d.marker_.setTitle(null);d.set("visible",false);d.getPanes().floatPane.appendChild(this.div_);b.addListener(d.marker_,"dragend",function(){d.markerDragging=false});d.listeners=[b.addListener(d.marker_,"position_changed",function(){d.markerDragging=true;d.set("visible",false)}),b.addListener(d.map_,"mousemove",function(f){})]},removeTip:function(){if(this.listeners){for(var a=0,b;b=this.listeners[a];a++){google.maps.event.removeListener(b)}delete this.listeners}var c=this.div_.parentNode;if(c){c.removeChild(this.div_)}}};function inherit(a,c){var b=c.prototype;var e=a.prototype;for(var d in b){if(typeof e[d]=="undefined"){e[d]=b[d]}}}inherit(Tooltip,google.maps.OverlayView);